# Методология исследования

## Оглавление
1. [Введение](#введение)
2. [Источники данных](#источники-данных)
3. [Методы сбора данных](#методы-сбора-данных)
4. [Математические модели](#математические-модели)
5. [Алгоритмы обработки](#алгоритмы-обработки)
6. [Методы визуализации](#методы-визуализации)
7. [Оценка погрешностей](#оценка-погрешностей)

---

## Введение

Данная методология описывает подход к сбору, обработке и анализу телеметрических данных Международной космической станции (МКС). Исследование включает:

- Отслеживание орбитального движения МКС
- Анализ условий окружающей среды
- Прогнозирование видимости станции
- Моделирование физических параметров

### Цели исследования

1. **Получение реальных данных** о текущем положении и параметрах орбиты МКС
2. **Анализ динамики движения** станции в околоземном пространстве
3. **Моделирование условий** температуры, радиации и высоты орбиты
4. **Разработка инструментов** для прогнозирования видимости МКС

---

## Источники данных

### 1. Open Notify API

**URL:** `http://api.open-notify.org/`

**Предоставляемые данные:**
- Текущее положение МКС (широта, долгота)
- Unix timestamp момента измерения
- Прогноз времени пролетов над заданной точкой

**Частота обновления:** В реальном времени (по запросу)

**Точность:** 
- Координаты: ±0.01° (≈1 км)
- Временная метка: 1 секунда

**Формат ответа:**
```json
{
  "message": "success",
  "timestamp": 1699564800,
  "iss_position": {
    "latitude": "45.1234",
    "longitude": "37.5678"
  }
}
```

### 2. CelesTrak (NORAD TLE)

**URL:** `https://celestrak.org/NORAD/elements/`

**Предоставляемые данные:**
- Two-Line Element Set (TLE) - точные орбитальные параметры
- Обновляется несколько раз в сутки

**Формат TLE:**
```
ISS (ZARYA)
1 25544U 98067A   24310.54321876  .00012345  00000-0  12345-3 0  9999
2 25544  51.6400 123.4567 0001234  12.3456 123.4567 15.54567890123456
```

**Параметры TLE:**
- Строка 1: Номер объекта, эпоха, баллистический коэффициент
- Строка 2: Наклонение, долгота восходящего узла, эксцентриситет, аргумент перигея

---

## Методы сбора данных

### Автоматический сбор

```python
def collect_positions(duration_minutes, interval_seconds):
    """
    Автоматический сбор положений МКС
    
    Args:
        duration_minutes: Длительность сбора (мин)
        interval_seconds: Интервал между запросами (сек)
    """
    end_time = current_time + duration_minutes
    while current_time < end_time:
        position = get_current_position()
        save_position(position)
        sleep(interval_seconds)
```

### Параметры сбора

- **Минимальный интервал:** 5 секунд (ограничение API)
- **Рекомендуемый интервал:** 10-30 секунд
- **Типичная длительность:** 10-60 минут (1-2 витка орбиты)

### Валидация данных

Каждая полученная точка проходит валидацию:

1. **Проверка координат:**
   - -90° ≤ latitude ≤ 90°
   - -180° ≤ longitude ≤ 180°

2. **Проверка временной метки:**
   - Монотонное возрастание
   - Интервал соответствует заданному

3. **Проверка целостности:**
   - Наличие всех полей
   - Корректный формат JSON

---

## Математические модели

### 1. Орбитальная механика

#### Орбитальная скорость

Первая космическая скорость на высоте h:

```
v = √(μ / r)
```

где:
- μ = 398,600.4418 км³/с² (гравитационный параметр Земли)
- r = R_Earth + h (радиус орбиты)
- R_Earth = 6,371 км (средний радиус Земли)

Для МКС (h ≈ 408 км):
```
v = √(398,600.4418 / 6,779) ≈ 7.66 км/с ≈ 27,600 км/ч
```

#### Период обращения

```
T = 2π√(r³ / μ)
```

Для МКС:
```
T = 2π√(6,779³ / 398,600.4418) ≈ 5,574 секунд ≈ 92.9 минут
```

#### Количество витков в сутки

```
n = 86,400 / T ≈ 15.5 витков/сутки
```

### 2. Геодезические расчеты

#### Формула гаверсинусов

Расстояние между двумя точками на сфере:

```
a = sin²(Δφ/2) + cos(φ₁)·cos(φ₂)·sin²(Δλ/2)
c = 2·arcsin(√a)
d = r·c
```

где:
- φ₁, φ₂ - широты точек (радианы)
- λ₁, λ₂ - долготы точек (радианы)
- r - радиус орбиты (км)

#### Конвертация координат

**Геодезические → Декартовы (ECEF):**

```
x = r·cos(φ)·cos(λ)
y = r·cos(φ)·sin(λ)
z = r·sin(φ)
```

**Декартовые → Геодезические:**

```
r = √(x² + y² + z²)
φ = arcsin(z / r)
λ = arctan2(y, x)
h = r - R_Earth
```

### 3. Атмосферное торможение

#### Модель снижения орбиты

```
dh/dt = -k·ρ(h)·v²
```

где:
- k - баллистический коэффициент
- ρ(h) - плотность атмосферы на высоте h
- v - скорость орбиты

Для МКС (h ≈ 408 км):
- Снижение ≈ 50-100 метров/сутки
- Требуются коррекции 2-4 раза в год

### 4. Радиационная модель

#### Источники радиации

1. **Галактические космические лучи (ГКЛ):**
   ```
   D_GCR = 20-40 мкЗв/час (постоянный фон)
   ```

2. **Южно-Атлантическая аномалия (SAA):**
   ```
   D_SAA = 2-5 × D_GCR (пики при пролете)
   ```

3. **Солнечные вспышки:**
   ```
   D_solar = 5-10 × D_GCR (редкие события)
   ```

#### Накопленная доза

```
D_total = ∫ D(t) dt
```

Для МКС:
- Суточная доза: ≈ 0.5-1 мЗв
- Годовая доза: ≈ 150-300 мЗв
- Сравнение с Землей: ×150-300

### 5. Температурная модель

#### Внешняя температура

```
T_ext(t) = T_sun·f_sun(t) + T_shadow·(1 - f_sun(t))
```

где:
- T_sun = +121°C (на солнце)
- T_shadow = -157°C (в тени)
- f_sun(t) - функция освещенности (0-1)

#### Фаза орбиты

```
φ = (t mod T_orbit) / T_orbit
```

Освещенность:
- 0 ≤ φ < 0.6: Солнечная сторона
- 0.6 ≤ φ < 1.0: Теневая сторона

---

## Алгоритмы обработки

### 1. Расчет скорости

```python
def calculate_velocity(positions, timestamps):
    velocities = []
    for i in range(1, len(positions)):
        # Расстояние (формула гаверсинусов)
        distance = haversine_distance(
            positions[i-1], 
            positions[i]
        )
        
        # Время
        time_diff = (timestamps[i] - timestamps[i-1]).seconds
        
        # Скорость
        velocity = distance / time_diff
        velocities.append(velocity)
    
    return np.mean(velocities)
```

### 2. Статистический анализ

```python
def analyze_parameter(data):
    return {
        'mean': np.mean(data),
        'median': np.median(data),
        'std': np.std(data),
        'min': np.min(data),
        'max': np.max(data),
        'range': np.max(data) - np.min(data)
    }
```

### 3. Сглаживание данных

**Скользящее среднее:**

```python
def moving_average(data, window_size):
    return np.convolve(
        data, 
        np.ones(window_size) / window_size, 
        mode='valid'
    )
```

### 4. Прогнозирование видимости

```python
def predict_visibility(lat, lon, alt, n_passes):
    # Запрос к API
    response = request_passes_api(lat, lon, alt, n_passes)
    
    # Парсинг результатов
    passes = []
    for pass_info in response['response']:
        passes.append({
            'rise_time': timestamp_to_datetime(pass_info['risetime']),
            'duration': pass_info['duration']
        })
    
    return passes
```

---

## Методы визуализации

### 1. Ground Track (2D)

Проекция орбиты на поверхность Земли:

```python
plt.plot(longitudes, latitudes, 'r-', linewidth=2)
plt.xlim(-180, 180)
plt.ylim(-90, 90)
```

**Особенности:**
- Синусоидальная форма из-за вращения Земли
- Наклонение 51.64° определяет максимальную широту

### 2. 3D Орбита

Визуализация орбиты в трехмерном пространстве:

```python
ax = plt.axes(projection='3d')
ax.plot(x, y, z)
ax.plot_surface(x_earth, y_earth, z_earth)
```

### 3. Временные ряды

Графики параметров во времени:

```python
plt.subplot(3, 1, 1)
plt.plot(time, temperature)
plt.subplot(3, 1, 2)
plt.plot(time, radiation)
plt.subplot(3, 1, 3)
plt.plot(time, altitude)
```

---

## Оценка погрешностей

### Источники погрешностей

1. **API данные:**
   - Точность координат: ±0.01° (≈1 км)
   - Задержка обновления: 1-5 секунд

2. **Временная дискретизация:**
   - Интервал сбора: 5-30 секунд
   - Потеря данных о коротких событиях

3. **Моделирование:**
   - Упрощенная модель атмосферы
   - Усредненные параметры радиации
   - Идеализированная геометрия Земли

### Методы снижения погрешностей

1. **Усреднение:** Сбор множественных измерений
2. **Валидация:** Отбраковка аномальных значений
3. **Сглаживание:** Фильтрация высокочастотных шумов
4. **Сравнение с теорией:** Проверка согласованности

### Доверительные интервалы

Для статистических параметров:

```python
confidence_interval = mean ± 1.96 × (std / √n)
```

при уровне доверия 95%.

---

## Заключение

Представленная методология обеспечивает:

✓ Получение точных и актуальных данных о МКС  
✓ Научно обоснованную обработку данных  
✓ Реалистичное моделирование физических процессов  
✓ Наглядную визуализацию результатов  
✓ Оценку точности и погрешностей

Методология может быть адаптирована для анализа других космических объектов на низкой околоземной орбите.
