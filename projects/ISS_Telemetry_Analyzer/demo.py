#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Demo script for ISS Telemetry Analyzer
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –ú–ö–°
"""

import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ –º–æ–¥—É–ª—è–º
sys.path.insert(0, str(Path(__file__).parent))

from src.iss_orbital_analysis import ISSTracker, predict_passes
from src.iss_environment_analysis import ISSEnvironmentAnalyzer
from src.utils import print_header, print_section


def demo_orbital_analysis():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—Ä–±–∏—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞"""
    print_section("–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –û–†–ë–ò–¢–ê–õ–¨–ù–û–ì–û –ê–ù–ê–õ–ò–ó–ê")
    
    tracker = ISSTracker()
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è (—Å–∏–º—É–ª—è—Ü–∏—è)
    print("üì° –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –ú–ö–°...")
    # –í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: position = tracker.get_current_position()
    print("üìç –®–∏—Ä–æ—Ç–∞: 51.6¬∞ (—Å–∏–º—É–ª—è—Ü–∏—è)")
    print("üìç –î–æ–ª–≥–æ—Ç–∞: -123.4¬∞ (—Å–∏–º—É–ª—è—Ü–∏—è)")
    print("‚è∞ –í—Ä–µ–º—è: 2025-11-09 21:00:00 UTC")
    
    # –†–∞—Å—á–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Å–∏–º—É–ª—è—Ü–∏—è)
    print("\nüßÆ –†–∞—Å—á–µ—Ç –æ—Ä–±–∏—Ç–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤...")
    print("üìè –í—ã—Å–æ—Ç–∞ –æ—Ä–±–∏—Ç—ã: 408.0 –∫–º")
    print("üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: 27,600 –∫–º/—á")
    print("‚è±Ô∏è  –ü–µ—Ä–∏–æ–¥ –æ–±—Ä–∞—â–µ–Ω–∏—è: 92.9 –º–∏–Ω—É—Ç")
    print("üîÅ –í–∏—Ç–∫–æ–≤ –≤ —Å—É—Ç–∫–∏: 15.5")
    
    # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    print("\nüñºÔ∏è  –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π...")
    tracker.plot_ground_track(show=False)
    tracker.plot_3d_orbit(show=False)
    print("‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ results/plots/")


def demo_environment_analysis():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ —É—Å–ª–æ–≤–∏–π –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã"""
    print_section("–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ê–ù–ê–õ–ò–ó–ê –£–°–õ–û–í–ò–ô –°–†–ï–î–´")
    
    analyzer = ISSEnvironmentAnalyzer()
    
    # –°–∏–º—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    print("üå°Ô∏è  –°–∏–º—É–ª—è—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è...")
    print("   ‚Ä¢ –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 22¬∞C (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è)")
    print("   ‚Ä¢ –í–Ω–µ—à–Ω—è—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: –æ—Ç -157¬∞C –¥–æ +121¬∞C")
    print("   ‚Ä¢ –¶–∏–∫–ª–æ–≤ –Ω–∞–≥—Ä–µ–≤/–æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ: ~16 –≤ —Å—É—Ç–∫–∏")
    
    print("\n‚ò¢Ô∏è  –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–¥–∏–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–æ–Ω–∞...")
    print("   ‚Ä¢ –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å: 30 –º–∫–ó–≤/—á–∞—Å")
    print("   ‚Ä¢ –ü–∏–∫–∏ –≤ SAA: –¥–æ 150 –º–∫–ó–≤/—á–∞—Å")
    print("   ‚Ä¢ –°–æ–ª–Ω–µ—á–Ω—ã–µ –≤—Å–ø—ã—à–∫–∏: –¥–æ 300 –º–∫–ó–≤/—á–∞—Å (—Ä–µ–¥–∫–æ)")
    
    print("\nüìä –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤...")
    analyzer.plot_environmental_conditions(duration_hours=24, show=False)
    print("‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ —É—Å–ª–æ–≤–∏–π —Å—Ä–µ–¥—ã —Å–æ–∑–¥–∞–Ω—ã")
    
    print("\nüìà –ê–Ω–∞–ª–∏–∑ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π —Ä–∞–¥–∏–∞—Ü–∏–∏...")
    # –í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: total_dose = analyzer.analyze_radiation_exposure(days=30)
    print("   ‚Ä¢ –ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–æ–∑–∞ –∑–∞ 30 –¥–Ω–µ–π: 1.2 –º–ó–≤")
    print("   ‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞—Å–µ–ª–µ–Ω–∏–µ–º: 1.2x –≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç")
    print("   ‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º–∏: 0.06x –≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç")


def demo_visibility_prediction():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏"""
    print_section("–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ü–†–û–ì–ù–û–ó–ê –í–ò–î–ò–ú–û–°–¢–ò")
    
    print("üîÆ –ü—Ä–æ–≥–Ω–æ–∑ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ú–ö–° –¥–ª—è –ú–æ—Å–∫–≤—ã (55.7558¬∞, 37.6173¬∞):")
    predict_passes(55.7558, 37.6173, n_passes=3)
    
    print("\nüîÆ –ü—Ä–æ–≥–Ω–æ–∑ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ú–ö–° –¥–ª—è –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ (59.9343¬∞, 30.3351¬∞):")
    predict_passes(59.9343, 30.3351, n_passes=3)


def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏"""
    print_header("–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø ISS TELEMETRY ANALYZER")
    
    print("""
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é ISS Telemetry Analyzer!
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

–í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞:
- –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç API
- –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã
- –°–æ–∑–¥–∞–µ—Ç –Ω–∞—É—á–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–æ–¥–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    """)
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—Ä–±–∏—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
    demo_orbital_analysis()
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ —É—Å–ª–æ–≤–∏–π —Å—Ä–µ–¥—ã
    demo_environment_analysis()
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏
    demo_visibility_prediction()
    
    print("\n" + "="*70)
    print("üéâ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!")
    print("="*70)
    print("\n–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ:")
    print("   python main.py")
    print("\n–ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏:")
    print("   python src/iss_orbital_analysis.py")
    print("   python src/iss_environment_analysis.py")


if __name__ == "__main__":
    main()